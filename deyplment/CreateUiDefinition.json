{
    "$schema": "https://schema.management.azure.com/schemas/0.1.2-preview/CreateUIDefinition.MultiVm.json#",
    "handler": "Microsoft.Azure.CreateUIDef",
    "version": "0.1.2-preview",
    "parameters": {
        "basics": [
            {
                "name": "sentinelName",
                "type": "Microsoft.Common.TextBox",
                "label": "Sentinel Name",
                "placeholder": "",
                "defaultValue": "sentinel01",
                "toolTip": "Use only allowed characters",
                "constraints": {
                    "required": true,
                    "regex": "^[a-z0-9A-Z]{1,30}$",
                    "validationMessage": "Only alphanumeric characters are allowed, and the value must be 1-30 characters long."
                },
                "visible": true
            }
		],
        "steps": [
			            {
                "name": "sentinel",
                "label": "Sentinel",
                "elements": [
					{
						"name": "retentionInDays",
						"type": "Microsoft.Common.TextBox",
						"label": "Retention In Days",
						"placeholder": "",
						"defaultValue": "90",
						"toolTip": "Use value between 30 and 730",
						"constraints": {
							"required": true,
							"regex": "^[3-9][0-9]$|^[1-6][0-9][0-9]$|^[7][0-2][0-9]$|^730$",
							"validationMessage": "Only numeric characters are allowed, and the value must be between 30 and 730."
						},
						"visible": true
					},
					{
						"name": "dailyQuotaInGb",
						"type": "Microsoft.Common.TextBox",
						"label": "Daily Quota In Gb",
						"placeholder": "",
						"defaultValue": "1",
						"toolTip": "Use value between 1 and 10",
						"constraints": {
							"required": true,
							"regex": "^[1-9]$|^10$",
							"validationMessage": "Only numeric characters are allowed, and the value must be between 1 and 10."
						},
						"visible": true
					}

                ]
            },
            {
                "name": "tags",
                "label": "Tags",
                "elements": [
                    {
                        "name": "tagsByResource",
                        "type": "Microsoft.Common.TagsByResource",
                        "resources": [
                            "Microsoft.OperationalInsights/workspaces",
                            "Microsoft.OperationsManagement/solutions"
                        ]
                    }
                ]
            }
        ],
        "outputs": {
            "sentinelName": "[basics('sentinelName')]",
            "retentionInDays": "[steps('retentionInDays')]",
            "dailyQuotaInGb": "[steps('dailyQuotaInGb')]",
            "resourceTags": "[steps('tags').tagsByResource]"
        },
		"resourceTypes": [
            "microsoft.resources/resourcegroups",
			"Microsoft.OperationalInsights/workspaces",
			"Microsoft.OperationsManagement/solutions"
		]
    }
}